---
---

{% include head.html %}
<body>
  <main class="container fluent-enter">
    <div id="metro-stage">
      <div id="metro-page" class="home">
        <header class="page-header hero fluent-enter delay-1">
          <h1>Hi there</h1>
        </header>

        <div class="tiles">
          {{ content }}
        </div>

        {% include footer.html %}
    </div>
    </div>
  </main>

  <script src="{{ '../assets/js/metro.js' | relative_url }}" defer></script>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
document.addEventListener('click', (e) => {
const tile = e.target.closest('.tile');
if (!tile) return;

e.preventDefault();

const page = document.getElementById('metro-page');
if (!page || page.classList.contains('is-exiting')) return;

const rect = page.getBoundingClientRect();

// tap position normalized (-1 â†’ 1)
const x = ((e.clientX - rect.left) / rect.width - 0.5) * 2;
const y = ((e.clientY - rect.top) / rect.height - 0.5) * 2;

page.style.transformOrigin = `
${x > 0 ? '0%' : '100%'}
${y > 0 ? '0%' : '100%'}
`;

requestAnimationFrame(() => {
page.classList.add('is-exiting');
page.style.transform = `scale(0.94)`;
});

setTimeout(() => {
window.location.href = tile.href;
}, 540);
});

const header = document.querySelector('.page-header');
if (!header) {
console.warn('No #page-header element found!');
return;
}

const updateHeaderHeight = () => {
const headerHeight = header.offsetHeight; // includes padding & border
const computedStyle = window.getComputedStyle(header);
const lineHeight = computedStyle.lineHeight;

// Set CSS variables
document.documentElement.style.setProperty('--header-height', `${headerHeight}px`);
document.documentElement.style.setProperty('--header-line-height', lineHeight);

console.log(`Header height: ${headerHeight}px, line-height: ${lineHeight}`);
};

// Initial run
updateHeaderHeight();

// Update on window resize
window.addEventListener('resize', updateHeaderHeight);
});
</script>

</body>
</html>